# Module 15 - SQL injection

## concepts
- SQL language (INSERT, UPDATE, DELETE, SELECT)
- what is a SQL injection
    - `SELECT Count(*) FROM Users WHERE UserName='blah' Or 1=1 --' AND Password=''`
    - OWASP web pages contains a lot of examples about SQL injections payloads
- types of sql injection
    - in-band - same communication channel to perform the attack and retrieve the results
        - error-based
        - system stored procedure
        - illegal/logically incorrect query
        - union
        - tautology
        - end-of-line comment
        - in-line comment
        - piggybacked query
    - blind/inferential (no error message, generic page, time-intensive)
        - time delay attack - you can use 'delay' db command to wait n number of seconds to determine how long it is an username
        - boolean exploitation
        - heavy query
    - out-of-band - different communication channel, attacker needs to use web application
- sql injection methodology
    - information gathering
        - from error messages
            - parameter tampering
            - determining database engine type
            - determining a SELECT query structure
            - injections
            - grouping error
            - type mismatch
            - blind injection
        - testing for sql injections
        - function testing
        - fuzz testing
        - static/dynamic testing
    - launch SQL injection attacks
        - perform union injections
        - perform error-based injections
            - using stored procedures
        - bypass user login
        - blind sql injections
        - double blind sql injections
        - second-order sql injections
        - bypass firewalls using sql injection
    - advanced SQL injection
        - identify user level privilege
        - discover DB structure
        - DB administrators
        - column enumeration in DB
- password grabbing
    - grabbing hashes
- interaction
    - OS
    - filesystem
- creating backdoor using SQL
- DNS exfiltration using SQL injection
- evading IDS 
    - when we use `/*` `*/` they are removed from the message by iDS
    - at the same time, if the IDS was configured to trigger on specific words (like `SELECT` or `UNION`), we can fragment the data like this `/*SEL*//*ECT*/`
    - upper and lower case variations
    - ... other techniques

## tools
- sqlmap
- mole
- mobile:
    - SQLi

---
### [Back to index](../README.md) | [Go to next module](16.md)